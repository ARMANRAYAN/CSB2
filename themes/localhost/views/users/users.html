<!-- BEGIN PAGE HEADER-->
<!--

<input type="text" class="form-control ng-isolate-scope ng-valid ng-valid-required ng-valid-date ng-dirty"
       datepicker-popup-persian="dd-MMMM-yyyy" ng-model="dt" is-open="persianIsOpen" datepicker-options="dateOptions"
       date-disabled="disabled(date, mode)" ng-required="true" close-text="بسته" required="required">
-->

<script type="text/ng-template" id="scoreModal.html">
    <div class="modal-header">
        <h3 class="modal-title font-green-haze bold ">ثبت امتیاز - {{customer.name}}</h3>
    </div>
    <div class="modal-body">
        <div class="table-scrollable table-scrollable-borderless slimScrollDiv"
             style="height: 80px; overflow: auto; width: auto;">
            <form class="form" ng-submit="ok()">
                <div class="form-body">
                    <div class="form-group">
                        <label class="control-label col-md-3">افزودن امتیاز به اندازه:</label>

                        <div class="input-group col-md-9">
                                            <span class="input-group-addon">
                                                <i class="fa fa-user"></i>
                                            </span>
                            <input ng-model="newScore.value" style="direction:ltr;" type="text" class="form-control">
                        </div>
                    </div>
                </div>
            </form>
        </div>
        <div class="modal-footer">
            <button class="btn btn-primary" ng-click="ok()">OK</button>
            <button class="btn btn-warning" ng-click="cancel()">Cancel</button>
        </div>
</script>


<script type="text/ng-template" id="myModalContent.html">
    <div class="modal-header">
        <h3 class="modal-title">انتخاب مشتری معرفی کننده</h3>
    </div>
    <div class="modal-body">
        <div class="table-scrollable table-scrollable-borderless slimScrollDiv"
             style="height: 350px; overflow: auto; width: auto;">
            <table class="table table-hover table-light">
                <thead>
                <tr class="uppercase">
                    <th colspan="2">
                        نام
                    </th>
                    <th>
                        ایمیل
                    </th>
                    <th>
                        موبایل
                    </th>
                    <th>
                        امتیاز
                    </th>
                </tr>
                </thead>
                <tr ng-click="ok(customer)" ng-repeat="customer in customers">
                    <td class="fit">
                        <img class="user-pic" src="/delegate/resource/assets/admin/layout/img/avatar4.jpg">
                    </td>
                    <td>
                        <a href="javascript:;" class="primary-link">{{customer.name}}</a>
                    </td>
                    <td>
                        {{customer.email}}
                    </td>

                    <td>
                        {{customer.mobile}}
                    </td>

                    <td>
                        <a class="bold font-green-haze">{{customer.score}}</a>
                    </td>
                </tr>
            </table>
        </div>
    </div>
    <div class="modal-footer">
        <button class="btn btn-primary" ng-click="ok()">OK</button>
        <button class="btn btn-warning" ng-click="cancel()">Cancel</button>
    </div>
</script>

<div class="page-bar">
    <ul class="page-breadcrumb">
        <li>
            <i class="fa fa-home"></i>
            <a href="#/dashboard.html">Home</a>
            <i class="fa fa-angle-right"></i>
        </li>
        <li>
            <a href="#">داشبورد مدیریت سامانه سپاسه</a>
        </li>
    </ul>
    <div class="page-toolbar">
        <div class="btn-group pull-right">
            <button type="button" class="btn btn-sm btn-default dropdown-toggle" dropdown-menu-toggle
                    dropdown-menu-hover data-delay="1000" data-close-others="true">
                Actions <i class="fa fa-angle-down"></i>
            </button>
            <ul class="dropdown-menu pull-right" role="menu">
                <li>
                    <a href="#">
                        <i class="icon-user"></i> New User </a>
                </li>
                <li>
                    <a href="#">
                        <i class="icon-present"></i> New Event <span class="badge badge-success">4</span>
                    </a>
                </li>
                <li>
                    <a href="#">
                        <i class="icon-basket"></i> New order </a>
                </li>
                <li class="divider">
                </li>
                <li>
                    <a href="#">
                        <i class="icon-flag"></i> Pending Orders <span class="badge badge-danger">4</span>
                    </a>
                </li>
                <li>
                    <a href="#">
                        <i class="icon-users"></i> Pending Users <span class="badge badge-warning">12</span>
                    </a>
                </li>
            </ul>
        </div>
    </div>
</div>
<h3 class="page-title">
    مدیریت کاربران سیستم
</h3>
<!-- END PAGE HEADER-->

<div ng-controller="GeneralPageController">
    <alert ng-repeat="alert in alerts" type="{{alert.type}}" close="closeAlert($index)">{{alert.message}}</alert>
</div>

<!-- BEGIN MAIN CONTENT -->
<div>


<!-- BEGIN DASHBOARD STATS -->
<div class="row hide">
    <div class="col-lg-3 col-md-3 col-sm-6 col-xs-12">
        <div class="dashboard-stat blue-madison">
            <div class="visual">
                <i class="fa fa-comments"></i>
            </div>
            <div class="details">
                <div class="number">
                    1349
                </div>
                <div class="desc">
                    New Feedbacks
                </div>
            </div>
            <a class="more" href="#">
                View more <i class="m-icon-swapright m-icon-white"></i>
            </a>
        </div>
    </div>
    <div class="col-lg-3 col-md-3 col-sm-6 col-xs-12">
        <div class="dashboard-stat red-intense">
            <div class="visual">
                <i class="fa fa-bar-chart-o"></i>
            </div>
            <div class="details">
                <div class="number">
                    12,5M$
                </div>
                <div class="desc">
                    Total Profit
                </div>
            </div>
            <a class="more" href="#">
                View more <i class="m-icon-swapright m-icon-white"></i>
            </a>
        </div>
    </div>
    <div class="col-lg-3 col-md-3 col-sm-6 col-xs-12">
        <div class="dashboard-stat green-haze">
            <div class="visual">
                <i class="fa fa-shopping-cart"></i>
            </div>
            <div class="details">
                <div class="number">
                    549
                </div>
                <div class="desc">
                    New Orders
                </div>
            </div>
            <a class="more" href="#">
                View more <i class="m-icon-swapright m-icon-white"></i>
            </a>
        </div>
    </div>
    <div class="col-lg-3 col-md-3 col-sm-6 col-xs-12">
        <div class="dashboard-stat purple-plum">
            <div class="visual">
                <i class="fa fa-globe"></i>
            </div>
            <div class="details">
                <div class="number">
                    +89%
                </div>
                <div class="desc">
                    Brand Popularity
                </div>
            </div>
            <a class="more" href="#">
                View more <i class="m-icon-swapright m-icon-white"></i>
            </a>
        </div>
    </div>
</div>
<!-- END DASHBOARD STATS -->
<div class="row">
    <div class="col-md-12 col-sm-12">
        <!-- BEGIN PORTLET-->
        <div class="portlet  light ">
            <div class="portlet-title tabbable-line">
                <div class="caption caption-md">
                    <i class="icon-bar-chart font-green-haze hide"></i>
                    <span class="caption-subject font-white bold uppercase">ثبت کاربر جدید</span>
                </div>
                <ul class="nav nav-tabs">
                    <li>
                        <a href="#" data-target="#portlet_tab2" data-toggle="tab">
                            دسترسی ها
                        </a>
                    </li>
                    <li class="active">
                        <a href="#" data-target="#portlet_tab1" data-toggle="tab">
                            اطلاعات کلی
                        </a>
                    </li>
                </ul>
            </div>
            <div class="portlet-body form ">
                <form name="userForm" class="form-horizontal" ng-submit="submitUser()">
                    <div class="tab-content">

                        <div class="tab-pane active" id="portlet_tab1">
                            <div class="form-body">
                                <div class="row">
                                    <div class="col-md-6 col-sm-12">
                                        <div class="form-group">
                                            <label class="control-label col-md-3">نام</label>

                                            <div class="input-group col-md-8">
                                                                            <span class="input-group-addon">
                                                                                <i class="fa fa-user"></i>
                                                                            </span>
                                                <input ng-model="newUser.firstName"
                                                       validation="min_len:3|max_len:50|required" name="firstName"
                                                       type="text" class="form-control">

                                                                            <span class="input-group-addon">
                                                                                <i class="fa fa-user"></i>
                                                                            </span>
                                                <input validation="min_len:3|max_len:50|required" name="lastName"
                                                       ng-model="newUser.lastName" type="text" class="form-control"/>
                                            </div>

                                        </div>


                                        <div class="form-group">
                                            <label class="control-label col-md-3">تلفن همراه</label>

                                            <div class="input-group col-md-8">
                                                                                <span class="input-group-addon">
                                                                                    <i class="fa fa-mobile"></i>
                                                                                </span>
                                                <input ng-model="newUser.mobile" type="text"
                                                       validation="numeric|exact_len:11|required" name="mobile"
                                                       class="form-control"
                                                       style="direction: ltr;"/>
                                            </div>
                                        </div>

                                        <div class="form-group">
                                            <label class="control-label col-md-3">آدرس ایمیل</label>

                                            <div class="input-group col-md-8">
                                                                                <span class="input-group-addon">
                                                                                    <i class="fa fa-envelope"></i>
                                                                                </span>
                                                <input validation="email|required" name="email" ng-model="newUser.email"
                                                       style="direction: ltr;" type="text"
                                                       class="form-control">
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-md-6 col-sm-12">
                                        <div class="form-group password-strength">
                                            <label class="control-label col-md-3">رمز عبور</label>

                                            <div class="input-group col-md-8">
                                                                                <span class="input-group-addon">
                                                                                    <i class="fa fa-lock"></i>
                                                                                </span>
                                                <input validation="min_len:6|max_len:50|required" name="password"
                                                       ng-model="newUser.password1" style="direction: ltr;"
                                                       type="password" class="form-control">
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label class="control-label col-md-3">تکرار رمز عبور</label>

                                            <div class="input-group col-md-8">
                                                                                <span class="input-group-addon">
                                                                                    <i class="fa fa-lock"></i>
                                                                                </span>
                                                <input ng-model="newUser.password2" style="direction: ltr;"
                                                       validation="match:newUser.password1,تکرار رمز عبور,رمز عبور|min_len:6|max_len:50|required"
                                                       name="passwordConfirm"
                                                       type="password"
                                                       class="form-control">
                                            </div>
                                        </div>
                                    </div>

                                </div>


                            </div>

                        </div>

                        <div class="tab-pane" id="portlet_tab2">
                            <!--<button type="button" class="btn btn-success" ng-model="newUser.roles.OPERATOR"-->
                            <!--btn-checkbox>-->
                            <!--اپراتور-->
                            <!--</button>-->
                            <button type="button" class="btn btn-success" ng-model="newUser.roles.ADMINISTRATOR_USER"
                                    btn-checkbox>
                                مدیر سطح بالای سیستم
                            </button>

                            <button type="button" class="btn btn-success" ng-model="newUser.roles.USER_MANAGER"
                                    btn-checkbox>
                                مدیریت کاربران
                            </button>
                            <button type="button" class="btn btn-success" ng-model="newUser.roles.PAYMENT_MANAGER"
                                    btn-checkbox>
                                مدیریت پرداخت ها
                            </button>
                            <button type="button" class="btn btn-success" ng-model="newUser.roles.INVOICE_MANAGER"
                                    btn-checkbox>
                                مدیریت فاکتور ها
                            </button>

                            <button type="button" class="btn btn-success" ng-model="newUser.roles.CUSTOMER_MANAGER"
                                    btn-checkbox>
                                مدیریت مشتریان
                            </button>
                        </div>

                        <div class="form-actions right purple">
                            <button ng-disabled="userForm.$invalid" type="submit" class="btn green-turquoise">
                                افزودن کاربر
                            </button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
        <!-- END PORTLET-->
    </div>
</div>
<div class="row">
    <div class="col-md-12 col-sm-12">
        <!-- BEGIN PORTLET-->
        <div class="portlet light ">
            <div class="portlet-title">
                <div class="caption caption-md">
                    <i class="icon-bar-chart font-green-haze hide"></i>
                    <span class="caption-subject font-green-haze bold uppercase">جستجوی کاربران</span>
                    <span class="caption-helper hide">لیست مشتریان</span>
                </div>
                <div class="actions">
                    <div class="btn-group btn-group-devided" data-toggle="buttons">

                    </div>
                </div>
                <div class="inputs">
                    <div class="portlet-input input-inline input-medium">
                        <div class="input-group">
                            <input type="text" ng-enter="doSearch()" ng-model="query"
                                   class="form-control input-circle-left" placeholder="جستجو ...">
                        <span class="input-group-btn">
                            <button ng-click="doSearch()" class="btn btn-circle-right btn-default" type="submit">
                                جستجو
                            </button>
                        </span>
                        </div>
                    </div>
                </div>

            </div>
            <div class="portlet-body">

                <div class="table-scrollable table-scrollable-borderless">
                    <table class="table table-hover table-light">
                        <thead>
                        <tr class="uppercase">
                            <th colspan="2">
                                نام
                            </th>
                            <th>
                                ایمیل
                            </th>
                            <th>
                                موبایل
                            </th>
                            <th>
                                امتیاز
                            </th>
                            <th>
                                وضعیت
                            </th>
                        </tr>
                        </thead>
                        <tr ng-repeat="user in users">
                            <td class="fit">
                                <img class="user-pic" src="/delegate/resource/assets/admin/layout/img/avatar4.jpg">
                            </td>
                            <td>
                                <a href="#/userDetail/{{user.id}}" class="primary-link">{{user.firstName}}
                                    {{user.lastName}}</a>
                            </td>
                            <td>
                                {{user.email}}
                            </td>

                            <td style="direction: ltr; text-align: right;">
                                {{user.mobile}}
                            </td>

                            <td>
                                <button type="button" class="btn btn-success" ng-click="changeStatus(user)"
                                        ng-model="user.isActive"
                                        btn-checkbox>
                                    {{user.isActive ? "فعال" : "غیر فعال"}}

                                </button>

                            </td>
                        </tr>
                    </table>
                </div>
            </div>
        </div>
        <!-- END PORTLET-->
    </div>
</div>
</div>
<!-- END MAIN CONTENT -->
<!-- BEGIN MAIN JS & CSS -->
<script>
    //Index.init();
    //Tasks.initDashboardWidget();
    CustomersTools.init();
</script>
<!-- BEGIN MAIN JS & CSS -->